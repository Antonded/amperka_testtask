var _x60732=["fs","./libs/log","./scriptDirector","./libs/dbHelper","clearStats","clearQuests","addGameEvent","addQuestEvent","<br />","addGameScriptEvent","stopGame","setQuestStopTime","addGame","addQuest","_id","length","quest","UnixTime","getTime","startDate","EndUnixTime","stopTime","name","room","getRoom","weekDay","getDay","monthDay","getDate","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","seconds","getSeconds","week","push","allGames","total","getQuest","getAllQuests","getQuests","getQuestsWithPeriod","getQuestEvents"],_x56284=[_x60732[0],_x60732[1],_x60732[2],_x60732[3],_x60732[4],_x60732[5],_x60732[6],_x60732[7],_x60732[8],_x60732[9],_x60732[10],_x60732[11],_x60732[12],_x60732[13],_x60732[14],_x60732[15],_x60732[16],_x60732[17],_x60732[18],_x60732[19],_x60732[20],_x60732[21],_x60732[22],_x60732[23],_x60732[24],_x60732[25],_x60732[26],_x60732[27],_x60732[28],_x60732[29],_x60732[30],_x60732[31],_x60732[32],_x60732[33],_x60732[34],_x60732[35],_x60732[36],_x60732[37],_x60732[38],_x60732[39],_x60732[40],_x60732[41],_x60732[42],_x60732[43],_x60732[44],_x60732[45],_x60732[46],_x60732[47]],fs=require(_x56284[0]),log=require(_x56284[1])(module),scriptDirector=require(_x56284[2]),dbHelper=require(_x56284[3]),MINIMAL_GAME_DURATION=12e5;exports[_x56284[4]]=function(){dbHelper[_x56284[5]]()},exports[_x56284[6]]=function(x,_,e,t,r){dbHelper[_x56284[7]](x,r,_+_x56284[8]+e+_x56284[8]+t,function(){})},exports[_x56284[9]]=function(x,_,e){dbHelper[_x56284[7]](x,e,_,function(){})},exports[_x56284[10]]=function(x,_){dbHelper[_x56284[11]](x,_)},exports[_x56284[12]]=function(x,_){dbHelper[_x56284[13]](x,function(x,e){_(x?x[_x56284[14]]:null)})};var makeStat=function(x){var _={};if(x)for(var e=0;e<x[_x56284[15]];e++){var t=x[e][_x56284[16]],r=x[e];r[_x56284[17]]=r[_x56284[19]][_x56284[18]](),r[_x56284[20]]=r[_x56284[21]][_x56284[18]](),r[_x56284[20]]-r[_x56284[17]]<MINIMAL_GAME_DURATION||(_[t]||(_[t]={id:t,total:0,allGames:[],name:scriptDirector[_x56284[24]](t)[_x56284[23]][_x56284[22]],week:[0,0,0,0,0,0,0],monthDay:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],month:[0,0,0,0,0,0,0,0,0,0,0,0]}),r[_x56284[25]]=(r[_x56284[19]][_x56284[26]]()+6)%7,r[_x56284[27]]=r[_x56284[19]][_x56284[28]](),r[_x56284[29]]=r[_x56284[19]][_x56284[30]](),r[_x56284[31]]=r[_x56284[19]][_x56284[32]](),r[_x56284[33]]=r[_x56284[19]][_x56284[34]](),r[_x56284[35]]=r[_x56284[19]][_x56284[36]](),r[_x56284[37]]=r[_x56284[19]][_x56284[38]](),_[t][_x56284[39]][r[_x56284[25]]]++,_[t][_x56284[27]][r[_x56284[27]]]++,_[t][_x56284[29]][r[_x56284[29]]]++,_[t][_x56284[41]][_x56284[40]](r),_[t][_x56284[42]]++)}return _};exports[_x56284[43]]=function(x,_){dbHelper[_x56284[43]](x,function(x,e){_(x)})},exports[_x56284[44]]=function(x){dbHelper[_x56284[45]](function(_,e){x(makeStat(_))})},exports[_x56284[46]]=function(x,_,e){dbHelper[_x56284[45]](x,_,function(x,_){e(makeStat(x))})},exports[_x56284[47]]=function(x,_){dbHelper[_x56284[47]](x,function(x,e){_(x?x:[])})};